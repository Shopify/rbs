/*----------------------------------------------------------------------------*/
/* This file is generated by the templates/template.rb script and should not  */
/* be modified manually.                                                      */
/* To change the template see                                                 */
/* templates/src/ast.c.erb                                                    */
/*----------------------------------------------------------------------------*/

#line 2 "prism/templates/src/ast.c.erb"
#include "rbs/ast.h"

#include <stdio.h>
#include <stdlib.h>

const char* rbs_node_type_name(rbs_node_t *node) {
    switch (node->type) {
        case RBS_AST_ANNOTATION: return "RBS::AST::Annotation";
        case RBS_AST_BOOL: return "RBS::AST::Bool";
        case RBS_AST_COMMENT: return "RBS::AST::Comment";
        case RBS_AST_DECLARATIONS_CLASS: return "RBS::AST::Declarations::Class";
        case RBS_AST_DECLARATIONS_CLASS_SUPER: return "RBS::AST::Declarations::Class::Super";
        case RBS_AST_DECLARATIONS_CLASSALIAS: return "RBS::AST::Declarations::ClassAlias";
        case RBS_AST_DECLARATIONS_CONSTANT: return "RBS::AST::Declarations::Constant";
        case RBS_AST_DECLARATIONS_GLOBAL: return "RBS::AST::Declarations::Global";
        case RBS_AST_DECLARATIONS_INTERFACE: return "RBS::AST::Declarations::Interface";
        case RBS_AST_DECLARATIONS_MODULE: return "RBS::AST::Declarations::Module";
        case RBS_AST_DECLARATIONS_MODULE_SELF: return "RBS::AST::Declarations::Module::Self";
        case RBS_AST_DECLARATIONS_MODULEALIAS: return "RBS::AST::Declarations::ModuleAlias";
        case RBS_AST_DECLARATIONS_TYPEALIAS: return "RBS::AST::Declarations::TypeAlias";
        case RBS_AST_DIRECTIVES_USE: return "RBS::AST::Directives::Use";
        case RBS_AST_DIRECTIVES_USE_SINGLECLAUSE: return "RBS::AST::Directives::Use::SingleClause";
        case RBS_AST_DIRECTIVES_USE_WILDCARDCLAUSE: return "RBS::AST::Directives::Use::WildcardClause";
        case RBS_AST_INTEGER: return "RBS::AST::Integer";
        case RBS_AST_MEMBERS_ALIAS: return "RBS::AST::Members::Alias";
        case RBS_AST_MEMBERS_ATTRACCESSOR: return "RBS::AST::Members::AttrAccessor";
        case RBS_AST_MEMBERS_ATTRREADER: return "RBS::AST::Members::AttrReader";
        case RBS_AST_MEMBERS_ATTRWRITER: return "RBS::AST::Members::AttrWriter";
        case RBS_AST_MEMBERS_CLASSINSTANCEVARIABLE: return "RBS::AST::Members::ClassInstanceVariable";
        case RBS_AST_MEMBERS_CLASSVARIABLE: return "RBS::AST::Members::ClassVariable";
        case RBS_AST_MEMBERS_EXTEND: return "RBS::AST::Members::Extend";
        case RBS_AST_MEMBERS_INCLUDE: return "RBS::AST::Members::Include";
        case RBS_AST_MEMBERS_INSTANCEVARIABLE: return "RBS::AST::Members::InstanceVariable";
        case RBS_AST_MEMBERS_METHODDEFINITION: return "RBS::AST::Members::MethodDefinition";
        case RBS_AST_MEMBERS_METHODDEFINITION_OVERLOAD: return "RBS::AST::Members::MethodDefinition::Overload";
        case RBS_AST_MEMBERS_PREPEND: return "RBS::AST::Members::Prepend";
        case RBS_AST_MEMBERS_PRIVATE: return "RBS::AST::Members::Private";
        case RBS_AST_MEMBERS_PUBLIC: return "RBS::AST::Members::Public";
        case RBS_AST_STRING: return "RBS::AST::String";
        case RBS_AST_TYPEPARAM: return "RBS::AST::TypeParam";
        case RBS_METHODTYPE: return "RBS::MethodType";
        case RBS_NAMESPACE: return "RBS::Namespace";
        case RBS_SIGNATURE: return "RBS::Signature";
        case RBS_TYPENAME: return "RBS::TypeName";
        case RBS_TYPES_ALIAS: return "RBS::Types::Alias";
        case RBS_TYPES_BASES_ANY: return "RBS::Types::Bases::Any";
        case RBS_TYPES_BASES_BOOL: return "RBS::Types::Bases::Bool";
        case RBS_TYPES_BASES_BOTTOM: return "RBS::Types::Bases::Bottom";
        case RBS_TYPES_BASES_CLASS: return "RBS::Types::Bases::Class";
        case RBS_TYPES_BASES_INSTANCE: return "RBS::Types::Bases::Instance";
        case RBS_TYPES_BASES_NIL: return "RBS::Types::Bases::Nil";
        case RBS_TYPES_BASES_SELF: return "RBS::Types::Bases::Self";
        case RBS_TYPES_BASES_TOP: return "RBS::Types::Bases::Top";
        case RBS_TYPES_BASES_VOID: return "RBS::Types::Bases::Void";
        case RBS_TYPES_BLOCK: return "RBS::Types::Block";
        case RBS_TYPES_CLASSINSTANCE: return "RBS::Types::ClassInstance";
        case RBS_TYPES_CLASSSINGLETON: return "RBS::Types::ClassSingleton";
        case RBS_TYPES_FUNCTION: return "RBS::Types::Function";
        case RBS_TYPES_FUNCTION_PARAM: return "RBS::Types::Function::Param";
        case RBS_TYPES_INTERFACE: return "RBS::Types::Interface";
        case RBS_TYPES_INTERSECTION: return "RBS::Types::Intersection";
        case RBS_TYPES_LITERAL: return "RBS::Types::Literal";
        case RBS_TYPES_OPTIONAL: return "RBS::Types::Optional";
        case RBS_TYPES_PROC: return "RBS::Types::Proc";
        case RBS_TYPES_RECORD: return "RBS::Types::Record";
        case RBS_TYPES_RECORD_FIELDTYPE: return "RBS::Types::Record::FieldType";
        case RBS_TYPES_TUPLE: return "RBS::Types::Tuple";
        case RBS_TYPES_UNION: return "RBS::Types::Union";
        case RBS_TYPES_UNTYPEDFUNCTION: return "RBS::Types::UntypedFunction";
        case RBS_TYPES_VARIABLE: return "RBS::Types::Variable";
        case RBS_AST_SYMBOL: return "Symbol";
        default: return "Unknown";
    }
}

/* rbs_node_list */

rbs_node_list_t* rbs_node_list_new(rbs_allocator_t *allocator) {
    rbs_node_list_t *list = rbs_allocator_alloc(allocator, rbs_node_list_t);
    *list = (rbs_node_list_t) {
        .allocator = allocator,
        .head = NULL,
        .tail = NULL,
        .length = 0,
    };

    return list;
}

void rbs_node_list_free(rbs_node_list_t *list) {
    rbs_node_list_node_t *current = list->head;
    while (current != NULL) {
        rbs_node_list_node_t *next = current->next;
        rbs_node_destroy(current->node);
        // `current` is owned by the arena, so it will be freed automatically when the arena is freed.
        current = next;
    }
    // `list` is owned by the arena, so it will be freed automatically when the arena is freed.
}

void rbs_node_list_append(rbs_node_list_t *list, rbs_node_t *node) {
    rbs_node_list_node_t *new_node = rbs_allocator_alloc(list->allocator, rbs_node_list_node_t);
    *new_node = (rbs_node_list_node_t) {
        .node = node,
        .next = NULL,
    };

    if (list->tail == NULL) {
        list->head = new_node;
        list->tail = new_node;
    } else {
        list->tail->next = new_node;
        list->tail = new_node;
    }

    list->length++;
}

/* rbs_hash */

rbs_hash_t* rbs_hash_new(rbs_allocator_t *allocator) {
    rbs_hash_t *hash = rbs_allocator_alloc(allocator, rbs_hash_t);
    *hash = (rbs_hash_t) {
        .allocator = allocator,
        .head = NULL,
        .tail = NULL,
        .length = 0,
    };

    return hash;
}

void rbs_hash_free(rbs_hash_t *hash) {
    rbs_hash_node_t *current = hash->head;
    while (current != NULL) {
        rbs_hash_node_t *next = current->next;
        rbs_node_destroy(current->key);
        rbs_node_destroy(current->value);
        // `current` is owned by the arena, so it will be freed automatically when the arena is freed.
        current = next;
    }
    // `hash` is owned by the arena, so it will be freed automatically when the arena is freed.
}

bool rbs_node_equal(rbs_node_t *lhs, rbs_node_t *rhs) {
    if (lhs == rhs) return true;
    if (lhs->type != rhs->type) return false;

    switch (lhs->type) {
    case RBS_AST_SYMBOL:
        return ((rbs_ast_symbol_t *)lhs)->constant_id == ((rbs_ast_symbol_t *) rhs)->constant_id;
    case RBS_KEYWORD:
        return ((rbs_keyword_t *)lhs)->constant_id == ((rbs_keyword_t *) rhs)->constant_id;
    case RBS_AST_BOOL:
        return ((rbs_ast_bool_t *)lhs)->value == ((rbs_ast_bool_t *) rhs)->value;
    case RBS_AST_INTEGER:
        return rbs_string_equal(((rbs_ast_integer_t *) lhs)->string_representation, ((rbs_ast_integer_t *) rhs)->string_representation);
    case RBS_AST_STRING:
        return rbs_string_equal(((rbs_ast_string_t *) lhs)->string, ((rbs_ast_string_t *) rhs)->string);
    default:
        printf("Unhandled node type: %d\n", lhs->type);
        return false;
    }
}

rbs_hash_node_t* rbs_hash_find(rbs_hash_t *hash, rbs_node_t *key) {
    rbs_hash_node_t *current = hash->head;

    while (current != NULL) {
        if (rbs_node_equal(key, current->key)) {
            return current;
        }
        current = current->next;
    }

    return NULL;
}

void rbs_hash_set(rbs_hash_t *hash, rbs_node_t *key, rbs_node_t *value) {
    rbs_hash_node_t *existing_node = rbs_hash_find(hash, key);
    if (existing_node != NULL) {
        existing_node->value = value;
        return;
    }

    rbs_hash_node_t *new_node = rbs_allocator_alloc(hash->allocator, rbs_hash_node_t);
    new_node->key = key;
    new_node->value = value;
    new_node->next = NULL;

    if (hash->tail == NULL) {
        hash->head = new_node;
        hash->tail = new_node;
    } else {
        hash->tail->next = new_node;
        hash->tail = new_node;
    }
}

rbs_node_t* rbs_hash_get(rbs_hash_t *hash, rbs_node_t *key) {
    rbs_hash_node_t *node = rbs_hash_find(hash, key);
    return node ? node->value : NULL;
}

rbs_keyword_t *rbs_keyword_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_constant_id_t constant_id) {
    rbs_keyword_t *instance = rbs_allocator_alloc(allocator, rbs_keyword_t);

    *instance = (rbs_keyword_t) {
        .base = (rbs_node_t) {
            .type = RBS_KEYWORD,
            .location = location,
        },
        .constant_id = constant_id,
    };

    return instance;
}

rbs_ast_symbol_t *rbs_ast_symbol_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_constant_pool_t *constant_pool, rbs_constant_id_t constant_id) {
    rbs_ast_symbol_t *instance = rbs_allocator_alloc(allocator, rbs_ast_symbol_t);

    *instance = (rbs_ast_symbol_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_SYMBOL,
            .location = location,
        },
        .constant_id = constant_id,
    };

    return instance;
}

#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_annotation_t *rbs_ast_annotation_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_string_t string) {
    rbs_ast_annotation_t *instance = rbs_allocator_alloc(allocator, rbs_ast_annotation_t);


    *instance = (rbs_ast_annotation_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_ANNOTATION,
            .location = location,
        },
        .string = string,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_bool_t *rbs_ast_bool_new(rbs_allocator_t *allocator, rbs_location_t *location, bool value) {
    rbs_ast_bool_t *instance = rbs_allocator_alloc(allocator, rbs_ast_bool_t);


    *instance = (rbs_ast_bool_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_BOOL,
            .location = location,
        },
        .value = value,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_comment_t *rbs_ast_comment_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_string_t string) {
    rbs_ast_comment_t *instance = rbs_allocator_alloc(allocator, rbs_ast_comment_t);


    *instance = (rbs_ast_comment_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_COMMENT,
            .location = location,
        },
        .string = string,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_class_t *rbs_ast_declarations_class_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *type_params, rbs_ast_declarations_class_super_t *super_class, rbs_node_list_t *members, rbs_node_list_t *annotations, rbs_ast_comment_t *comment) {
    rbs_ast_declarations_class_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_class_t);


    *instance = (rbs_ast_declarations_class_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_CLASS,
            .location = location,
        },
        .name = name,
        .type_params = type_params,
        .super_class = super_class,
        .members = members,
        .annotations = annotations,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_class_super_t *rbs_ast_declarations_class_super_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *args) {
    rbs_ast_declarations_class_super_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_class_super_t);


    *instance = (rbs_ast_declarations_class_super_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_CLASS_SUPER,
            .location = location,
        },
        .name = name,
        .args = args,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_classalias_t *rbs_ast_declarations_classalias_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *new_name, rbs_typename_t *old_name, rbs_ast_comment_t *comment, rbs_node_list_t *annotations) {
    rbs_ast_declarations_classalias_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_classalias_t);


    *instance = (rbs_ast_declarations_classalias_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_CLASSALIAS,
            .location = location,
        },
        .new_name = new_name,
        .old_name = old_name,
        .comment = comment,
        .annotations = annotations,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_constant_t *rbs_ast_declarations_constant_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_t *type, rbs_ast_comment_t *comment, rbs_node_list_t *annotations) {
    rbs_ast_declarations_constant_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_constant_t);


    *instance = (rbs_ast_declarations_constant_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_CONSTANT,
            .location = location,
        },
        .name = name,
        .type = type,
        .comment = comment,
        .annotations = annotations,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_global_t *rbs_ast_declarations_global_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_node_t *type, rbs_ast_comment_t *comment, rbs_node_list_t *annotations) {
    rbs_ast_declarations_global_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_global_t);


    *instance = (rbs_ast_declarations_global_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_GLOBAL,
            .location = location,
        },
        .name = name,
        .type = type,
        .comment = comment,
        .annotations = annotations,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_interface_t *rbs_ast_declarations_interface_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *type_params, rbs_node_list_t *members, rbs_node_list_t *annotations, rbs_ast_comment_t *comment) {
    rbs_ast_declarations_interface_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_interface_t);


    *instance = (rbs_ast_declarations_interface_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_INTERFACE,
            .location = location,
        },
        .name = name,
        .type_params = type_params,
        .members = members,
        .annotations = annotations,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_module_t *rbs_ast_declarations_module_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *type_params, rbs_node_list_t *self_types, rbs_node_list_t *members, rbs_node_list_t *annotations, rbs_ast_comment_t *comment) {
    rbs_ast_declarations_module_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_module_t);


    *instance = (rbs_ast_declarations_module_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_MODULE,
            .location = location,
        },
        .name = name,
        .type_params = type_params,
        .self_types = self_types,
        .members = members,
        .annotations = annotations,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_module_self_t *rbs_ast_declarations_module_self_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *args) {
    rbs_ast_declarations_module_self_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_module_self_t);


    *instance = (rbs_ast_declarations_module_self_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_MODULE_SELF,
            .location = location,
        },
        .name = name,
        .args = args,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_modulealias_t *rbs_ast_declarations_modulealias_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *new_name, rbs_typename_t *old_name, rbs_ast_comment_t *comment, rbs_node_list_t *annotations) {
    rbs_ast_declarations_modulealias_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_modulealias_t);


    *instance = (rbs_ast_declarations_modulealias_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_MODULEALIAS,
            .location = location,
        },
        .new_name = new_name,
        .old_name = old_name,
        .comment = comment,
        .annotations = annotations,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_declarations_typealias_t *rbs_ast_declarations_typealias_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *type_params, rbs_node_t *type, rbs_node_list_t *annotations, rbs_ast_comment_t *comment) {
    rbs_ast_declarations_typealias_t *instance = rbs_allocator_alloc(allocator, rbs_ast_declarations_typealias_t);


    *instance = (rbs_ast_declarations_typealias_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DECLARATIONS_TYPEALIAS,
            .location = location,
        },
        .name = name,
        .type_params = type_params,
        .type = type,
        .annotations = annotations,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_directives_use_t *rbs_ast_directives_use_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *clauses) {
    rbs_ast_directives_use_t *instance = rbs_allocator_alloc(allocator, rbs_ast_directives_use_t);


    *instance = (rbs_ast_directives_use_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DIRECTIVES_USE,
            .location = location,
        },
        .clauses = clauses,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_directives_use_singleclause_t *rbs_ast_directives_use_singleclause_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *type_name, rbs_ast_symbol_t *new_name) {
    rbs_ast_directives_use_singleclause_t *instance = rbs_allocator_alloc(allocator, rbs_ast_directives_use_singleclause_t);


    *instance = (rbs_ast_directives_use_singleclause_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DIRECTIVES_USE_SINGLECLAUSE,
            .location = location,
        },
        .type_name = type_name,
        .new_name = new_name,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_directives_use_wildcardclause_t *rbs_ast_directives_use_wildcardclause_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_namespace_t *rbs_namespace) {
    rbs_ast_directives_use_wildcardclause_t *instance = rbs_allocator_alloc(allocator, rbs_ast_directives_use_wildcardclause_t);


    *instance = (rbs_ast_directives_use_wildcardclause_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_DIRECTIVES_USE_WILDCARDCLAUSE,
            .location = location,
        },
        .rbs_namespace = rbs_namespace,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_integer_t *rbs_ast_integer_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_string_t string_representation) {
    rbs_ast_integer_t *instance = rbs_allocator_alloc(allocator, rbs_ast_integer_t);


    *instance = (rbs_ast_integer_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_INTEGER,
            .location = location,
        },
        .string_representation = string_representation,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_alias_t *rbs_ast_members_alias_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *new_name, rbs_ast_symbol_t *old_name, rbs_keyword_t *kind, rbs_node_list_t *annotations, rbs_ast_comment_t *comment) {
    rbs_ast_members_alias_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_alias_t);


    *instance = (rbs_ast_members_alias_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_ALIAS,
            .location = location,
        },
        .new_name = new_name,
        .old_name = old_name,
        .kind = kind,
        .annotations = annotations,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_attraccessor_t *rbs_ast_members_attraccessor_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_node_t *type, rbs_node_t *ivar_name, rbs_keyword_t *kind, rbs_node_list_t *annotations, rbs_ast_comment_t *comment, rbs_keyword_t *visibility) {
    rbs_ast_members_attraccessor_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_attraccessor_t);


    *instance = (rbs_ast_members_attraccessor_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_ATTRACCESSOR,
            .location = location,
        },
        .name = name,
        .type = type,
        .ivar_name = ivar_name,
        .kind = kind,
        .annotations = annotations,
        .comment = comment,
        .visibility = visibility,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_attrreader_t *rbs_ast_members_attrreader_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_node_t *type, rbs_node_t *ivar_name, rbs_keyword_t *kind, rbs_node_list_t *annotations, rbs_ast_comment_t *comment, rbs_keyword_t *visibility) {
    rbs_ast_members_attrreader_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_attrreader_t);


    *instance = (rbs_ast_members_attrreader_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_ATTRREADER,
            .location = location,
        },
        .name = name,
        .type = type,
        .ivar_name = ivar_name,
        .kind = kind,
        .annotations = annotations,
        .comment = comment,
        .visibility = visibility,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_attrwriter_t *rbs_ast_members_attrwriter_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_node_t *type, rbs_node_t *ivar_name, rbs_keyword_t *kind, rbs_node_list_t *annotations, rbs_ast_comment_t *comment, rbs_keyword_t *visibility) {
    rbs_ast_members_attrwriter_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_attrwriter_t);


    *instance = (rbs_ast_members_attrwriter_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_ATTRWRITER,
            .location = location,
        },
        .name = name,
        .type = type,
        .ivar_name = ivar_name,
        .kind = kind,
        .annotations = annotations,
        .comment = comment,
        .visibility = visibility,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_classinstancevariable_t *rbs_ast_members_classinstancevariable_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_node_t *type, rbs_ast_comment_t *comment) {
    rbs_ast_members_classinstancevariable_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_classinstancevariable_t);


    *instance = (rbs_ast_members_classinstancevariable_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_CLASSINSTANCEVARIABLE,
            .location = location,
        },
        .name = name,
        .type = type,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_classvariable_t *rbs_ast_members_classvariable_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_node_t *type, rbs_ast_comment_t *comment) {
    rbs_ast_members_classvariable_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_classvariable_t);


    *instance = (rbs_ast_members_classvariable_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_CLASSVARIABLE,
            .location = location,
        },
        .name = name,
        .type = type,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_extend_t *rbs_ast_members_extend_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *args, rbs_node_list_t *annotations, rbs_ast_comment_t *comment) {
    rbs_ast_members_extend_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_extend_t);


    *instance = (rbs_ast_members_extend_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_EXTEND,
            .location = location,
        },
        .name = name,
        .args = args,
        .annotations = annotations,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_include_t *rbs_ast_members_include_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *args, rbs_node_list_t *annotations, rbs_ast_comment_t *comment) {
    rbs_ast_members_include_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_include_t);


    *instance = (rbs_ast_members_include_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_INCLUDE,
            .location = location,
        },
        .name = name,
        .args = args,
        .annotations = annotations,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_instancevariable_t *rbs_ast_members_instancevariable_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_node_t *type, rbs_ast_comment_t *comment) {
    rbs_ast_members_instancevariable_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_instancevariable_t);


    *instance = (rbs_ast_members_instancevariable_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_INSTANCEVARIABLE,
            .location = location,
        },
        .name = name,
        .type = type,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_methoddefinition_t *rbs_ast_members_methoddefinition_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_keyword_t *kind, rbs_node_list_t *overloads, rbs_node_list_t *annotations, rbs_ast_comment_t *comment, bool overloading, rbs_keyword_t *visibility) {
    rbs_ast_members_methoddefinition_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_methoddefinition_t);


    *instance = (rbs_ast_members_methoddefinition_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_METHODDEFINITION,
            .location = location,
        },
        .name = name,
        .kind = kind,
        .overloads = overloads,
        .annotations = annotations,
        .comment = comment,
        .overloading = overloading,
        .visibility = visibility,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_methoddefinition_overload_t *rbs_ast_members_methoddefinition_overload_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *annotations, rbs_node_t *method_type) {
    rbs_ast_members_methoddefinition_overload_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_methoddefinition_overload_t);


    *instance = (rbs_ast_members_methoddefinition_overload_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_METHODDEFINITION_OVERLOAD,
            .location = location,
        },
        .annotations = annotations,
        .method_type = method_type,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_prepend_t *rbs_ast_members_prepend_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *args, rbs_node_list_t *annotations, rbs_ast_comment_t *comment) {
    rbs_ast_members_prepend_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_prepend_t);


    *instance = (rbs_ast_members_prepend_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_PREPEND,
            .location = location,
        },
        .name = name,
        .args = args,
        .annotations = annotations,
        .comment = comment,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_private_t *rbs_ast_members_private_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_ast_members_private_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_private_t);


    *instance = (rbs_ast_members_private_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_PRIVATE,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_members_public_t *rbs_ast_members_public_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_ast_members_public_t *instance = rbs_allocator_alloc(allocator, rbs_ast_members_public_t);


    *instance = (rbs_ast_members_public_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_MEMBERS_PUBLIC,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_string_t *rbs_ast_string_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_string_t string) {
    rbs_ast_string_t *instance = rbs_allocator_alloc(allocator, rbs_ast_string_t);


    *instance = (rbs_ast_string_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_STRING,
            .location = location,
        },
        .string = string,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_ast_typeparam_t *rbs_ast_typeparam_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name, rbs_keyword_t *variance, rbs_node_t *upper_bound, rbs_node_t *default_type, bool unchecked) {
    rbs_ast_typeparam_t *instance = rbs_allocator_alloc(allocator, rbs_ast_typeparam_t);


    *instance = (rbs_ast_typeparam_t) {
        .base = (rbs_node_t) {
            .type = RBS_AST_TYPEPARAM,
            .location = location,
        },
        .name = name,
        .variance = variance,
        .upper_bound = upper_bound,
        .default_type = default_type,
        .unchecked = unchecked,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_methodtype_t *rbs_methodtype_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *type_params, rbs_node_t *type, rbs_types_block_t *block) {
    rbs_methodtype_t *instance = rbs_allocator_alloc(allocator, rbs_methodtype_t);


    *instance = (rbs_methodtype_t) {
        .base = (rbs_node_t) {
            .type = RBS_METHODTYPE,
            .location = location,
        },
        .type_params = type_params,
        .type = type,
        .block = block,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_namespace_t *rbs_namespace_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *path, bool absolute) {
    rbs_namespace_t *instance = rbs_allocator_alloc(allocator, rbs_namespace_t);


    *instance = (rbs_namespace_t) {
        .base = (rbs_node_t) {
            .type = RBS_NAMESPACE,
            .location = location,
        },
        .path = path,
        .absolute = absolute,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_signature_t *rbs_signature_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *directives, rbs_node_list_t *declarations) {
    rbs_signature_t *instance = rbs_allocator_alloc(allocator, rbs_signature_t);


    *instance = (rbs_signature_t) {
        .base = (rbs_node_t) {
            .type = RBS_SIGNATURE,
            .location = location,
        },
        .directives = directives,
        .declarations = declarations,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_typename_t *rbs_typename_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_namespace_t *rbs_namespace, rbs_ast_symbol_t *name) {
    rbs_typename_t *instance = rbs_allocator_alloc(allocator, rbs_typename_t);


    *instance = (rbs_typename_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPENAME,
            .location = location,
        },
        .rbs_namespace = rbs_namespace,
        .name = name,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_alias_t *rbs_types_alias_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *args) {
    rbs_types_alias_t *instance = rbs_allocator_alloc(allocator, rbs_types_alias_t);


    *instance = (rbs_types_alias_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_ALIAS,
            .location = location,
        },
        .name = name,
        .args = args,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_any_t *rbs_types_bases_any_new(rbs_allocator_t *allocator, rbs_location_t *location, bool todo) {
    rbs_types_bases_any_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_any_t);


    *instance = (rbs_types_bases_any_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_ANY,
            .location = location,
        },
        .todo = todo,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_bool_t *rbs_types_bases_bool_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_types_bases_bool_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_bool_t);


    *instance = (rbs_types_bases_bool_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_BOOL,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_bottom_t *rbs_types_bases_bottom_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_types_bases_bottom_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_bottom_t);


    *instance = (rbs_types_bases_bottom_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_BOTTOM,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_class_t *rbs_types_bases_class_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_types_bases_class_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_class_t);


    *instance = (rbs_types_bases_class_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_CLASS,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_instance_t *rbs_types_bases_instance_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_types_bases_instance_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_instance_t);


    *instance = (rbs_types_bases_instance_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_INSTANCE,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_nil_t *rbs_types_bases_nil_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_types_bases_nil_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_nil_t);


    *instance = (rbs_types_bases_nil_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_NIL,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_self_t *rbs_types_bases_self_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_types_bases_self_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_self_t);


    *instance = (rbs_types_bases_self_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_SELF,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_top_t *rbs_types_bases_top_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_types_bases_top_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_top_t);


    *instance = (rbs_types_bases_top_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_TOP,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_bases_void_t *rbs_types_bases_void_new(rbs_allocator_t *allocator, rbs_location_t *location) {
    rbs_types_bases_void_t *instance = rbs_allocator_alloc(allocator, rbs_types_bases_void_t);


    *instance = (rbs_types_bases_void_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BASES_VOID,
            .location = location,
        },
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_block_t *rbs_types_block_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_t *type, bool required, rbs_node_t *self_type) {
    rbs_types_block_t *instance = rbs_allocator_alloc(allocator, rbs_types_block_t);


    *instance = (rbs_types_block_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_BLOCK,
            .location = location,
        },
        .type = type,
        .required = required,
        .self_type = self_type,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_classinstance_t *rbs_types_classinstance_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *args) {
    rbs_types_classinstance_t *instance = rbs_allocator_alloc(allocator, rbs_types_classinstance_t);


    *instance = (rbs_types_classinstance_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_CLASSINSTANCE,
            .location = location,
        },
        .name = name,
        .args = args,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_classsingleton_t *rbs_types_classsingleton_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name) {
    rbs_types_classsingleton_t *instance = rbs_allocator_alloc(allocator, rbs_types_classsingleton_t);


    *instance = (rbs_types_classsingleton_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_CLASSSINGLETON,
            .location = location,
        },
        .name = name,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_function_t *rbs_types_function_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *required_positionals, rbs_node_list_t *optional_positionals, rbs_node_t *rest_positionals, rbs_node_list_t *trailing_positionals, rbs_hash_t *required_keywords, rbs_hash_t *optional_keywords, rbs_node_t *rest_keywords, rbs_node_t *return_type) {
    rbs_types_function_t *instance = rbs_allocator_alloc(allocator, rbs_types_function_t);


    *instance = (rbs_types_function_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_FUNCTION,
            .location = location,
        },
        .required_positionals = required_positionals,
        .optional_positionals = optional_positionals,
        .rest_positionals = rest_positionals,
        .trailing_positionals = trailing_positionals,
        .required_keywords = required_keywords,
        .optional_keywords = optional_keywords,
        .rest_keywords = rest_keywords,
        .return_type = return_type,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_function_param_t *rbs_types_function_param_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_t *type, rbs_ast_symbol_t *name) {
    rbs_types_function_param_t *instance = rbs_allocator_alloc(allocator, rbs_types_function_param_t);


    *instance = (rbs_types_function_param_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_FUNCTION_PARAM,
            .location = location,
        },
        .type = type,
        .name = name,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_interface_t *rbs_types_interface_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_typename_t *name, rbs_node_list_t *args) {
    rbs_types_interface_t *instance = rbs_allocator_alloc(allocator, rbs_types_interface_t);


    *instance = (rbs_types_interface_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_INTERFACE,
            .location = location,
        },
        .name = name,
        .args = args,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_intersection_t *rbs_types_intersection_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *types) {
    rbs_types_intersection_t *instance = rbs_allocator_alloc(allocator, rbs_types_intersection_t);


    *instance = (rbs_types_intersection_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_INTERSECTION,
            .location = location,
        },
        .types = types,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_literal_t *rbs_types_literal_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_t *literal) {
    rbs_types_literal_t *instance = rbs_allocator_alloc(allocator, rbs_types_literal_t);


    *instance = (rbs_types_literal_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_LITERAL,
            .location = location,
        },
        .literal = literal,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_optional_t *rbs_types_optional_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_t *type) {
    rbs_types_optional_t *instance = rbs_allocator_alloc(allocator, rbs_types_optional_t);


    *instance = (rbs_types_optional_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_OPTIONAL,
            .location = location,
        },
        .type = type,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_proc_t *rbs_types_proc_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_t *type, rbs_types_block_t *block, rbs_node_t *self_type) {
    rbs_types_proc_t *instance = rbs_allocator_alloc(allocator, rbs_types_proc_t);


    *instance = (rbs_types_proc_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_PROC,
            .location = location,
        },
        .type = type,
        .block = block,
        .self_type = self_type,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_record_t *rbs_types_record_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_hash_t *all_fields) {
    rbs_types_record_t *instance = rbs_allocator_alloc(allocator, rbs_types_record_t);


    *instance = (rbs_types_record_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_RECORD,
            .location = location,
        },
        .all_fields = all_fields,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_record_fieldtype_t *rbs_types_record_fieldtype_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_t *type, bool required) {
    rbs_types_record_fieldtype_t *instance = rbs_allocator_alloc(allocator, rbs_types_record_fieldtype_t);


    *instance = (rbs_types_record_fieldtype_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_RECORD_FIELDTYPE,
            .location = location,
        },
        .type = type,
        .required = required,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_tuple_t *rbs_types_tuple_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *types) {
    rbs_types_tuple_t *instance = rbs_allocator_alloc(allocator, rbs_types_tuple_t);


    *instance = (rbs_types_tuple_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_TUPLE,
            .location = location,
        },
        .types = types,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_union_t *rbs_types_union_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_list_t *types) {
    rbs_types_union_t *instance = rbs_allocator_alloc(allocator, rbs_types_union_t);


    *instance = (rbs_types_union_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_UNION,
            .location = location,
        },
        .types = types,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_untypedfunction_t *rbs_types_untypedfunction_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_node_t *return_type) {
    rbs_types_untypedfunction_t *instance = rbs_allocator_alloc(allocator, rbs_types_untypedfunction_t);


    *instance = (rbs_types_untypedfunction_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_UNTYPEDFUNCTION,
            .location = location,
        },
        .return_type = return_type,
    };

    return instance;
}
#line 176 "prism/templates/src/ast.c.erb"
rbs_types_variable_t *rbs_types_variable_new(rbs_allocator_t *allocator, rbs_location_t *location, rbs_ast_symbol_t *name) {
    rbs_types_variable_t *instance = rbs_allocator_alloc(allocator, rbs_types_variable_t);


    *instance = (rbs_types_variable_t) {
        .base = (rbs_node_t) {
            .type = RBS_TYPES_VARIABLE,
            .location = location,
        },
        .name = name,
    };

    return instance;
}

#line 198 "prism/templates/src/ast.c.erb"
void rbs_node_destroy(rbs_node_t *any_node) {
    switch (any_node->type) {
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_ANNOTATION: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_BOOL: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_COMMENT: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_CLASS: {
        rbs_ast_declarations_class_t *node = (rbs_ast_declarations_class_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->type_params);
        if (node->super_class != NULL) {
            rbs_node_destroy((rbs_node_t *) node->super_class);
        }
        rbs_node_list_free(node->members);
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_CLASS_SUPER: {
        rbs_ast_declarations_class_super_t *node = (rbs_ast_declarations_class_super_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->args);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_CLASSALIAS: {
        rbs_ast_declarations_classalias_t *node = (rbs_ast_declarations_classalias_t *)any_node;

        if (node->new_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->new_name);
        }
        if (node->old_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->old_name);
        }
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        rbs_node_list_free(node->annotations);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_CONSTANT: {
        rbs_ast_declarations_constant_t *node = (rbs_ast_declarations_constant_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        rbs_node_list_free(node->annotations);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_GLOBAL: {
        rbs_ast_declarations_global_t *node = (rbs_ast_declarations_global_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        rbs_node_list_free(node->annotations);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_INTERFACE: {
        rbs_ast_declarations_interface_t *node = (rbs_ast_declarations_interface_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->type_params);
        rbs_node_list_free(node->members);
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_MODULE: {
        rbs_ast_declarations_module_t *node = (rbs_ast_declarations_module_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->type_params);
        rbs_node_list_free(node->self_types);
        rbs_node_list_free(node->members);
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_MODULE_SELF: {
        rbs_ast_declarations_module_self_t *node = (rbs_ast_declarations_module_self_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->args);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_MODULEALIAS: {
        rbs_ast_declarations_modulealias_t *node = (rbs_ast_declarations_modulealias_t *)any_node;

        if (node->new_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->new_name);
        }
        if (node->old_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->old_name);
        }
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        rbs_node_list_free(node->annotations);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DECLARATIONS_TYPEALIAS: {
        rbs_ast_declarations_typealias_t *node = (rbs_ast_declarations_typealias_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->type_params);
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DIRECTIVES_USE: {
        rbs_ast_directives_use_t *node = (rbs_ast_directives_use_t *)any_node;

        rbs_node_list_free(node->clauses);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DIRECTIVES_USE_SINGLECLAUSE: {
        rbs_ast_directives_use_singleclause_t *node = (rbs_ast_directives_use_singleclause_t *)any_node;

        if (node->type_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type_name);
        }
        if (node->new_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->new_name);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_DIRECTIVES_USE_WILDCARDCLAUSE: {
        rbs_ast_directives_use_wildcardclause_t *node = (rbs_ast_directives_use_wildcardclause_t *)any_node;

        if (node->rbs_namespace != NULL) {
            rbs_node_destroy((rbs_node_t *) node->rbs_namespace);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_INTEGER: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_ALIAS: {
        rbs_ast_members_alias_t *node = (rbs_ast_members_alias_t *)any_node;

        if (node->new_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->new_name);
        }
        if (node->old_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->old_name);
        }
        if (node->kind != NULL) {
            rbs_node_destroy((rbs_node_t *) node->kind);
        }
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_ATTRACCESSOR: {
        rbs_ast_members_attraccessor_t *node = (rbs_ast_members_attraccessor_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->ivar_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->ivar_name);
        }
        if (node->kind != NULL) {
            rbs_node_destroy((rbs_node_t *) node->kind);
        }
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        if (node->visibility != NULL) {
            rbs_node_destroy((rbs_node_t *) node->visibility);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_ATTRREADER: {
        rbs_ast_members_attrreader_t *node = (rbs_ast_members_attrreader_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->ivar_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->ivar_name);
        }
        if (node->kind != NULL) {
            rbs_node_destroy((rbs_node_t *) node->kind);
        }
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        if (node->visibility != NULL) {
            rbs_node_destroy((rbs_node_t *) node->visibility);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_ATTRWRITER: {
        rbs_ast_members_attrwriter_t *node = (rbs_ast_members_attrwriter_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->ivar_name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->ivar_name);
        }
        if (node->kind != NULL) {
            rbs_node_destroy((rbs_node_t *) node->kind);
        }
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        if (node->visibility != NULL) {
            rbs_node_destroy((rbs_node_t *) node->visibility);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_CLASSINSTANCEVARIABLE: {
        rbs_ast_members_classinstancevariable_t *node = (rbs_ast_members_classinstancevariable_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_CLASSVARIABLE: {
        rbs_ast_members_classvariable_t *node = (rbs_ast_members_classvariable_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_EXTEND: {
        rbs_ast_members_extend_t *node = (rbs_ast_members_extend_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->args);
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_INCLUDE: {
        rbs_ast_members_include_t *node = (rbs_ast_members_include_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->args);
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_INSTANCEVARIABLE: {
        rbs_ast_members_instancevariable_t *node = (rbs_ast_members_instancevariable_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_METHODDEFINITION: {
        rbs_ast_members_methoddefinition_t *node = (rbs_ast_members_methoddefinition_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->kind != NULL) {
            rbs_node_destroy((rbs_node_t *) node->kind);
        }
        rbs_node_list_free(node->overloads);
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        // overloading is a bool, so we don't need to free it.
        if (node->visibility != NULL) {
            rbs_node_destroy((rbs_node_t *) node->visibility);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_METHODDEFINITION_OVERLOAD: {
        rbs_ast_members_methoddefinition_overload_t *node = (rbs_ast_members_methoddefinition_overload_t *)any_node;

        rbs_node_list_free(node->annotations);
        if (node->method_type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->method_type);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_PREPEND: {
        rbs_ast_members_prepend_t *node = (rbs_ast_members_prepend_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->args);
        rbs_node_list_free(node->annotations);
        if (node->comment != NULL) {
            rbs_node_destroy((rbs_node_t *) node->comment);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_PRIVATE: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_MEMBERS_PUBLIC: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_STRING: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_AST_TYPEPARAM: {
        rbs_ast_typeparam_t *node = (rbs_ast_typeparam_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        if (node->variance != NULL) {
            rbs_node_destroy((rbs_node_t *) node->variance);
        }
        if (node->upper_bound != NULL) {
            rbs_node_destroy((rbs_node_t *) node->upper_bound);
        }
        if (node->default_type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->default_type);
        }
        // unchecked is a bool, so we don't need to free it.
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_METHODTYPE: {
        rbs_methodtype_t *node = (rbs_methodtype_t *)any_node;

        rbs_node_list_free(node->type_params);
        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->block != NULL) {
            rbs_node_destroy((rbs_node_t *) node->block);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_NAMESPACE: {
        rbs_namespace_t *node = (rbs_namespace_t *)any_node;

        rbs_node_list_free(node->path);
        // absolute is a bool, so we don't need to free it.
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_SIGNATURE: {
        rbs_signature_t *node = (rbs_signature_t *)any_node;

        rbs_node_list_free(node->directives);
        rbs_node_list_free(node->declarations);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPENAME: {
        rbs_typename_t *node = (rbs_typename_t *)any_node;

        if (node->rbs_namespace != NULL) {
            rbs_node_destroy((rbs_node_t *) node->rbs_namespace);
        }
        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_ALIAS: {
        rbs_types_alias_t *node = (rbs_types_alias_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->args);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_ANY: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_BOOL: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_BOTTOM: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_CLASS: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_INSTANCE: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_NIL: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_SELF: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_TOP: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BASES_VOID: {
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_BLOCK: {
        rbs_types_block_t *node = (rbs_types_block_t *)any_node;

        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        // required is a bool, so we don't need to free it.
        if (node->self_type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->self_type);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_CLASSINSTANCE: {
        rbs_types_classinstance_t *node = (rbs_types_classinstance_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->args);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_CLASSSINGLETON: {
        rbs_types_classsingleton_t *node = (rbs_types_classsingleton_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_FUNCTION: {
        rbs_types_function_t *node = (rbs_types_function_t *)any_node;

        rbs_node_list_free(node->required_positionals);
        rbs_node_list_free(node->optional_positionals);
        if (node->rest_positionals != NULL) {
            rbs_node_destroy((rbs_node_t *) node->rest_positionals);
        }
        rbs_node_list_free(node->trailing_positionals);
        rbs_hash_free(node->required_keywords);
        rbs_hash_free(node->optional_keywords);
        if (node->rest_keywords != NULL) {
            rbs_node_destroy((rbs_node_t *) node->rest_keywords);
        }
        if (node->return_type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->return_type);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_FUNCTION_PARAM: {
        rbs_types_function_param_t *node = (rbs_types_function_param_t *)any_node;

        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_INTERFACE: {
        rbs_types_interface_t *node = (rbs_types_interface_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        rbs_node_list_free(node->args);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_INTERSECTION: {
        rbs_types_intersection_t *node = (rbs_types_intersection_t *)any_node;

        rbs_node_list_free(node->types);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_LITERAL: {
        rbs_types_literal_t *node = (rbs_types_literal_t *)any_node;

        if (node->literal != NULL) {
            rbs_node_destroy((rbs_node_t *) node->literal);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_OPTIONAL: {
        rbs_types_optional_t *node = (rbs_types_optional_t *)any_node;

        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_PROC: {
        rbs_types_proc_t *node = (rbs_types_proc_t *)any_node;

        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        if (node->block != NULL) {
            rbs_node_destroy((rbs_node_t *) node->block);
        }
        if (node->self_type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->self_type);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_RECORD: {
        rbs_types_record_t *node = (rbs_types_record_t *)any_node;

        rbs_hash_free(node->all_fields);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_RECORD_FIELDTYPE: {
        rbs_types_record_fieldtype_t *node = (rbs_types_record_fieldtype_t *)any_node;

        if (node->type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->type);
        }
        // required is a bool, so we don't need to free it.
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_TUPLE: {
        rbs_types_tuple_t *node = (rbs_types_tuple_t *)any_node;

        rbs_node_list_free(node->types);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_UNION: {
        rbs_types_union_t *node = (rbs_types_union_t *)any_node;

        rbs_node_list_free(node->types);
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_UNTYPEDFUNCTION: {
        rbs_types_untypedfunction_t *node = (rbs_types_untypedfunction_t *)any_node;

        if (node->return_type != NULL) {
            rbs_node_destroy((rbs_node_t *) node->return_type);
        }
        break;
    }
#line 202 "prism/templates/src/ast.c.erb"
    case RBS_TYPES_VARIABLE: {
        rbs_types_variable_t *node = (rbs_types_variable_t *)any_node;

        if (node->name != NULL) {
            rbs_node_destroy((rbs_node_t *) node->name);
        }
        break;
    }
    case RBS_KEYWORD:
    case RBS_AST_SYMBOL: {
        // TODO: Delete symbol from constant pool? Or just free the whole constant pool?
        break;
    }
    }

    // `any_node` will be freed automatically when the arena is freed.
}
